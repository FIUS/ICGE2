name: Validate commit

on:
  push:
    branches: [ master ]
  pull_request:

jobs:
  validate_format:
    name: Validate format
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: Setup java
      uses: actions/setup-java@v1
      with:
        java-version: 11
    - name: Validate format
      run: ./scriptsAndFormats/verifyFormat.sh & git status #git status returns zero exactly when there are no uncomitted changes

  validate_javadoc:
    name: Validate javadoc
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: Setup java
      uses: actions/setup-java@v1
      with:
        java-version: 11
    - name: Check Javadoc
      run: mvn -B compile javadoc:javadoc
