name: Check format and javadoc

on:
  push:
    branches: [ master ]
  pull_request:

defaults:
  run:
    shell: bash
    working-directory: scriptsAndTools

jobs:
  validate_commit:
    name: Validate commit
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: Setup java
      uses: actions/setup-java@v1
      with:
        java-version: 11
    - name: Validate format
      run: verifyFormat & git status #git status returns zero exactly when there are no uncomitted changes
    - name: Check Javadoc
      run: mvn -B compile javadoc:javadoc
